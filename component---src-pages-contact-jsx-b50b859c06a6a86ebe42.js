(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{w2EZ:function(e,t,a){"use strict";a.r(t),a.d(t,"pageQuery",(function(){return r}));var n=a("q1tI"),s=a.n(n),o=a("Kqmz"),l=a("dmsj");class i extends s.a.Component{constructor(e){super(e),this.state={form:{name:"",message:""}}}render(){let{data:e,location:t}=this.props;const a=e.site.siteMetadata.title;return s.a.createElement(o.a,{location:t,title:a},s.a.createElement(l.a,{title:"Contact"}),s.a.createElement("h1",{className:"m-5 text-2xl text-center"},"Contact form"),s.a.createElement("form",{action:"https://frozen-feedback.herokuapp.com",method:"POST",className:"max-w-md mx-auto",enctype:"multipart/form-data",onSubmit:this.handleSubmit.bind(this)},s.a.createElement("div",{class:"mb-4"},s.a.createElement("label",{class:"block text-gray-700 text-md text-center font-bold mb-2",for:"name"},"Name and Email"),s.a.createElement("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",value:this.state.form.name,onChange:this.handleChange.bind(this),type:"text",placeholder:"Name/Email",name:"name",maxLength:"200",required:!0})),s.a.createElement("div",{class:"mb-4"},s.a.createElement("label",{class:"block text-gray-700  text-md text-center font-bold mb-2",for:"message"},"Message"),s.a.createElement("textarea",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline resize-y",id:"message",placeholder:"Message",onChange:this.handleChange.bind(this),value:this.state.form.message,name:"message",rows:"5",maxLength:"3896",required:!0})),s.a.createElement("div",{class:"mb-4"},s.a.createElement("label",{class:"block text-gray-700 text-md text-center font-bold mb-2",for:"file"},"File"),s.a.createElement("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"file",type:"file",placeholder:"File",name:"file"})),s.a.createElement("div",{class:"mb-4 text-center"},s.a.createElement("input",{className:"bg-teal-500 text-white font-bold rounded-full py-4 px-8 shadow-lg uppercase tracking-wider disabled:opacity-75 ",type:"submit",value:"Submit"}))))}handleChange(e){this.setState({form:{...this.state.form,[e.target.id]:e.target.value}})}validate(){return""!=this.state.form.message&""!=this.state.form.name}async handleSubmit(e){if(e.preventDefault(),!this.validate())return void alert("Invalid input. Check your name and message!");let t=new FormData;t.append("name",this.state.form.name),t.append("message",this.state.form.message),document.getElementById("file").files[0]&&t.append("file",document.getElementById("file").files[0]);try{let e=await fetch("https://frozen-feedback.herokuapp.com/api",{method:"POST",body:t}),a=await e.json();"success"===a.type?alert("Your message has been delivered! \nThis site is still under construction"):alert("Something went wrong! Contact me on social media instead \nThis site is still under construction"),console.log(a)}catch(e){console.log(e),alert("Something went wrong! Contact me on social media instead \nThis site is still under construction")}}}t.default=i;const r="2785444898"}}]);
//# sourceMappingURL=component---src-pages-contact-jsx-b50b859c06a6a86ebe42.js.map