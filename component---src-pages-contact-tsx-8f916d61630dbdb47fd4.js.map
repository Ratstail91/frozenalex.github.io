{"version":3,"sources":["webpack:///./src/pages/contact.tsx"],"names":["ContactPage","React","constructor","props","super","this","state","form","name","message","render","data","location","siteTitle","site","siteMetadata","title","className","action","method","encType","onSubmit","handleSubmit","bind","htmlFor","id","value","onChange","handleChange","type","placeholder","maxLength","required","rows","e","setState","target","validate","preventDefault","alert","FormData","append","file","document","getElementById","files","result","fetch","body","json","console","log","pageQuery"],"mappings":"6FAAA,yFAaA,MAAMA,UAAoBC,YACxBC,YAAYC,GACVC,MAAMD,GACNE,KAAKC,MAAQ,CACXC,KAAM,CACJC,KAAM,GACNC,QAAS,KAIfC,SACE,IAAI,KAAEC,EAAF,SAAQC,GAAaP,KAAKF,MAC9B,MAAMU,EAAYF,EAAKG,KAAKC,aAAaC,MAEzC,OACE,gBAAC,IAAD,CAAQJ,SAAUA,EAAUI,MAAOH,GACjC,gBAAC,IAAD,CAAKG,MAAM,YAEX,sBAAIC,UAAU,4BAAd,gBACA,wBACEC,OAAO,wCACPC,OAAO,OACPF,UAAU,mBACVG,QAAQ,sBACRC,SAAUhB,KAAKiB,aAAaC,KAAKlB,OAGjC,uBAAKY,UAAU,QACb,yBACEA,UAAU,yDACVO,QAAQ,QAFV,kBAMA,yBACEP,UAAU,6HACVQ,GAAG,OACHC,MAAOrB,KAAKC,MAAMC,KAAKC,KACvBmB,SAAUtB,KAAKuB,aAAaL,KAAKlB,MACjCwB,KAAK,OACLC,YAAY,aACZtB,KAAK,OACLuB,UAAW,IACXC,UAAQ,KAIZ,uBAAKf,UAAU,QACb,yBACEA,UAAU,0DACVO,QAAQ,WAFV,WAMA,4BACEP,UAAU,sIACVQ,GAAG,UACHK,YAAY,UACZH,SAAUtB,KAAKuB,aAAaL,KAAKlB,MACjCqB,MAAOrB,KAAKC,MAAMC,KAAKE,QACvBD,KAAK,UACLyB,KAAM,EACNF,UAAW,KACXC,UAAQ,KAIZ,uBAAKf,UAAU,QACb,yBACEA,UAAU,yDACVO,QAAQ,QAFV,QAMA,yBACEP,UAAU,6HACVQ,GAAG,OACHI,KAAK,OACLC,YAAY,OACZtB,KAAK,UAGT,uBAAKS,UAAU,oBACb,yBACEA,UAAU,kHACVY,KAAK,SACLH,MAAM,cAOlBE,aAAaM,GACX7B,KAAK8B,SAAS,CAAE5B,KAAM,IAAKF,KAAKC,MAAMC,KAAM,CAAC2B,EAAEE,OAAOX,IAAKS,EAAEE,OAAOV,SAEtEW,WACE,MAAkC,IAA3BhC,KAAKC,MAAMC,KAAKE,SAAyC,IAAxBJ,KAAKC,MAAMC,KAAKC,KAE1D,mBAAmB0B,GAEjB,GADAA,EAAEI,kBACGjC,KAAKgC,WAER,YADAE,MAAM,+CAGR,IAAI5B,EAAO,IAAI6B,SACf7B,EAAK8B,OAAO,OAAQpC,KAAKC,MAAMC,KAAKC,MACpCG,EAAK8B,OAAO,UAAWpC,KAAKC,MAAMC,KAAKE,SACvC,IACIiC,EADYC,SAASC,eAAe,QACnBC,MAAM,GACvBH,GACF/B,EAAK8B,OAAO,OAAQC,GAGtB,IACE,IAAII,QAAeC,MAAM,4CAA6C,CACpE5B,OAAQ,OACR6B,KAAMrC,IAEJsC,QAAaH,EAAOG,OACN,YAAdA,EAAKpB,KACPU,MAAM,4EAENA,MACE,oGAGJW,QAAQC,IAAIF,GACZ,MAAOf,GACPgB,QAAQC,IAAIjB,GACZK,MACE,sGAMOvC,YAER,MAAMoD,EAAY","file":"component---src-pages-contact-tsx-8f916d61630dbdb47fd4.js","sourcesContent":["import * as React from \"react\"\nimport { graphql } from \"gatsby\"\n\nimport Layout from \"../layouts/layout\"\nimport SEO from \"../components/seo\"\n\ninterface ContactPageState {\n  form: {\n    name: string\n    message: string\n  }\n}\n\nclass ContactPage extends React.Component<any, ContactPageState> {\n  constructor(props) {\n    super(props)\n    this.state = {\n      form: {\n        name: \"\",\n        message: \"\",\n      },\n    }\n  }\n  render() {\n    let { data, location } = this.props\n    const siteTitle = data.site.siteMetadata.title\n\n    return (\n      <Layout location={location} title={siteTitle}>\n        <SEO title=\"Contact\" />\n        {/* Hero */}\n        <h1 className=\"m-5 text-2xl text-center\">Contact form</h1>\n        <form\n          action=\"https://frozen-feedback.herokuapp.com\"\n          method=\"POST\"\n          className=\"max-w-md mx-auto\"\n          encType=\"multipart/form-data\"\n          onSubmit={this.handleSubmit.bind(this)}\n        >\n          {/* Name */}\n          <div className=\"mb-4\">\n            <label\n              className=\"block text-gray-700 text-md text-center font-bold mb-2\"\n              htmlFor=\"name\"\n            >\n              Name and Email\n            </label>\n            <input\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n              id=\"name\"\n              value={this.state.form.name}\n              onChange={this.handleChange.bind(this)}\n              type=\"text\"\n              placeholder=\"Name/Email\"\n              name=\"name\"\n              maxLength={200}\n              required\n            />\n          </div>\n          {/* Message */}\n          <div className=\"mb-4\">\n            <label\n              className=\"block text-gray-700  text-md text-center font-bold mb-2\"\n              htmlFor=\"message\"\n            >\n              Message\n            </label>\n            <textarea\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline resize-y\"\n              id=\"message\"\n              placeholder=\"Message\"\n              onChange={this.handleChange.bind(this)}\n              value={this.state.form.message}\n              name=\"message\"\n              rows={5}\n              maxLength={3896}\n              required\n            />\n          </div>\n          {/* Filename */}\n          <div className=\"mb-4\">\n            <label\n              className=\"block text-gray-700 text-md text-center font-bold mb-2\"\n              htmlFor=\"file\"\n            >\n              File\n            </label>\n            <input\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n              id=\"file\"\n              type=\"file\"\n              placeholder=\"File\"\n              name=\"file\"\n            />\n          </div>\n          <div className=\"mb-4 text-center\">\n            <input\n              className=\"bg-teal-500 text-white font-bold rounded-full py-4 px-8 shadow-lg uppercase tracking-wider disabled:opacity-75 \"\n              type=\"submit\"\n              value=\"Submit\"\n            />\n          </div>\n        </form>\n      </Layout>\n    )\n  }\n  handleChange(e: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({ form: { ...this.state.form, [e.target.id]: e.target.value } })\n  }\n  validate() {\n    return this.state.form.message != \"\" && this.state.form.name != \"\"\n  }\n  async handleSubmit(e: HTMLFormElement) {\n    e.preventDefault()\n    if (!this.validate()) {\n      alert(\"Invalid input. Check your name and message!\")\n      return\n    }\n    let data = new FormData()\n    data.append(\"name\", this.state.form.name)\n    data.append(\"message\", this.state.form.message)\n    let fileInput = document.getElementById(\"file\") as HTMLInputElement\n    let file = fileInput.files[0]\n    if (file) {\n      data.append(\"file\", file)\n    }\n\n    try {\n      let result = await fetch(\"https://frozen-feedback.herokuapp.com/api\", {\n        method: \"POST\",\n        body: data,\n      })\n      let json = await result.json()\n      if (json.type === \"success\") {\n        alert(\"Your message has been delivered! \\nThis site is still under construction\")\n      } else {\n        alert(\n          \"Something went wrong! Contact me on social media instead \\nThis site is still under construction\"\n        )\n      }\n      console.log(json)\n    } catch (e) {\n      console.log(e)\n      alert(\n        \"Something went wrong! Contact me on social media instead \\nThis site is still under construction\"\n      )\n    }\n  }\n}\n\nexport default ContactPage\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n      edges {\n        node {\n          excerpt\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            title\n            description\n          }\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}